<div *ngIf="toast" class="toast" [ngClass]="toast.type" (click)="closeToast()">
  <strong>{{ toast.title }}</strong><br>
  <span>{{ toast.message }}</span>
</div>
<div (click)="toast ? closeToast() : null">
<div class="min-h-screen bg-gradient-to-br from-primary/10 to-secondary/10 flex items-center justify-center p-4">
  <div class="card w-full max-w-md">
    <div class="card-header text-center">
      <div class="flex flex-col items-center space-y-4">
        <div class="caring-logo-container">
          <img 
            src="assets/logoCaring.png"
            alt="Logo Caring"
            class="caring-logo-img"
            onerror="console.error('Erro ao carregar logo:', this.src)"
          />
        </div>
        <div>
          <h1 class="text-2xl font-bold caring-title">Gestão Caring</h1>
          <p class="text-muted-foreground">Sistema de Gestão Interna</p>
        </div>
      </div>
    </div>
    <div class="card-content">
      <form (ngSubmit)="handleLogin($event)" class="login-form space-y-4">
        <div class="space-y-2">
          <label for="email" class="label">Email</label>
          <input
            id="email"
            type="email"
            [(ngModel)]="email"
            name="email"
            required
            placeholder="seu@email.com"
            class="input"
          />
        </div>
        <div class="space-y-2">
          <label for="senha" class="label">Senha</label>
          <div style="position:relative;">
            <input
              id="senha"
              [type]="showPassword ? 'text' : 'password'"
              [(ngModel)]="senha"
              name="senha"
              required
              placeholder="••••••••"
              class="input"
              style="padding-right:2.5rem;"
            />
            <button type="button"
              (click)="togglePasswordVisibility()"
              style="position:absolute; right:0.5rem; top:50%; transform:translateY(-50%); background:none; border:none; cursor:pointer; padding:0; border:none;"
              tabindex="-1"
              aria-label="Mostrar/ocultar senha"
            >
              <ng-container *ngIf="!showPassword">
                <!-- Olho aberto SVG -->
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" style="opacity:0.5;"><path stroke="#c2111a" stroke-width="2" d="M1.5 12S5.5 5.5 12 5.5 22.5 12 22.5 12 18.5 18.5 12 18.5 1.5 12 1.5 12Z"/><circle cx="12" cy="12" r="3" stroke="#c2111a" stroke-width="2"/></svg>
              </ng-container>
              <ng-container *ngIf="showPassword">
                <!-- Olho fechado SVG -->
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" style="opacity:0.5;"><path stroke="#c2111a" stroke-width="2" d="M1.5 12S5.5 5.5 12 5.5c2.5 0 4.7.7 6.5 1.7"/><path stroke="#c2111a" stroke-width="2" d="M22.5 12S18.5 18.5 12 18.5c-2.5 0-4.7-.7-6.5-1.7"/><circle cx="12" cy="12" r="3" stroke="#c2111a" stroke-width="2"/><line x1="4" y1="20" x2="20" y2="4" stroke="#c2111a" stroke-width="2"/></svg>
              </ng-container>
            </button>
          </div>
        </div>
        <button 
          type="submit" 
          class="btn btn-primary w-full" 
          [disabled]="loading"
        >
          {{ loading ? 'Entrando...' : 'Entrar' }}
        </button>
      </form>
    </div>
  </div>
</div>
